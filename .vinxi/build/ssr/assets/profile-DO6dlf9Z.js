import{jsx as e,jsxs as r,Fragment as s}from"react/jsx-runtime";import{useQueryClient as l,useMutation as p}from"@tanstack/react-query";import{User as c,Loader2 as d}from"lucide-react";import{toast as u}from"sonner";import{u as h,b as f,d as C,A as v,e as b,f as g,B as w}from"./ssr-BorI3jCH.js";import{C as x,a as N,b as U,c as y,d as A}from"./card-3I0Ckeqd.js";import{L as o,I as D}from"./input-VBkQFdq7.js";import"@tanstack/react-router";import"@tanstack/react-router-with-query";import"zod";import"zod-validation-error";import"react";import"@radix-ui/react-icons";import"better-auth/react";import"@tanstack/router-core";import"node:async_hooks";import"h3";import"@radix-ui/react-slot";import"class-variance-authority";import"clsx";import"tailwind-merge";import"@radix-ui/react-navigation-menu";import"@radix-ui/react-avatar";import"@radix-ui/react-dropdown-menu";import"@radix-ui/react-switch";import"date-fns";import"node:stream";import"react-dom/server";import"node:stream/web";import"@radix-ui/react-label";function F(){const{user:t}=h(),m=l(),a=p({mutationFn:f,onSuccess:()=>{u.success("Your profile has been updated."),m.invalidateQueries(C.user())}});return e("form",{onSubmit:async i=>{i.preventDefault();const n=new FormData(i.currentTarget).get("username");a.mutate({data:{username:n}})},children:r(x,{className:"w-full max-w-md mx-auto mt-6",children:[r(N,{className:"flex flex-row items-center gap-4",children:[r(v,{className:"h-16 w-16",children:[e(b,{alt:"User avatar"}),e(g,{children:e(c,{className:"h-8 w-8"})})]}),r("div",{children:[e(U,{children:"Profile"}),e(y,{children:"Your personal information"})]})]}),r(A,{children:[r("div",{className:"space-y-4",children:[e("div",{children:r(o,{children:["Username",e(D,{name:"username",type:"text",defaultValue:t.name,placeholder:"Enter username",className:"mt-1"})]})}),e("div",{children:r(o,{children:["Email",e("p",{children:t.email})]})})]}),e(w,{className:"w-full mt-4",disabled:a.isPending,children:a.isPending?r(s,{children:["Updating ",e(d,{className:"ml-2 h-4 w-4 animate-spin"})]}):"Update"})]})]})})}const me=function(){return e(F,{})};export{me as component};
