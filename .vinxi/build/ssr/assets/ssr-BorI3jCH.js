import{queryOptions as he,useQuery as Ot,useQueryClient as Dt,QueryClient as Pt,MutationCache as Ht}from"@tanstack/react-query";import{RouterProvider as $t,createLink as je,useRouter as Lt,Link as zt,createRootRouteWithContext as Bt,Outlet as Ut,HeadContent as qt,Scripts as Wt,createFileRoute as re,lazyRouteComponent as ne,redirect as Fe,createRouter as Jt,ErrorComponent as Kt}from"@tanstack/react-router";import{routerWithQueryClient as Qt}from"@tanstack/react-router-with-query";import{Toaster as Vt,toast as de}from"sonner";import{z as u,ZodError as Gt}from"zod";import{fromError as Xt}from"zod-validation-error";import{jsx as c,Fragment as Ve,jsxs as b}from"react/jsx-runtime";import*as _ from"react";import Zt,{useState as Yt}from"react";import{GitHubLogoIcon as er,DiscordLogoIcon as tr}from"@radix-ui/react-icons";import{createAuthClient as rr}from"better-auth/react";import{createControlledPromise as nr,isPlainObject as P,isRedirect as Ge,isNotFound as Xe,pick as ar,TSR_DEFERRED_PROMISE as or,isPlainArray as sr,defer as ir,encode as cr}from"@tanstack/router-core";import{AsyncLocalStorage as lr}from"node:async_hooks";import{eventHandler as dr,toWebRequest as ur,getResponseHeaders as fr,H3Event as Se,getHeaders as mr}from"h3";import{Slot as pr}from"@radix-ui/react-slot";import{cva as Ze}from"class-variance-authority";import{clsx as hr}from"clsx";import{twMerge as gr}from"tailwind-merge";import*as T from"@radix-ui/react-navigation-menu";import{ChevronDown as yr,ChevronRight as vr,Check as br,Circle as _r,User as wr,LogOut as Sr}from"lucide-react";import*as J from"@radix-ui/react-avatar";import*as v from"@radix-ui/react-dropdown-menu";import*as xe from"@radix-ui/react-switch";import{format as xr}from"date-fns";import{Readable as $e,PassThrough as Rr}from"node:stream";import ue from"react-dom/server";import{ReadableStream as Cr}from"node:stream/web";function Le(e){return c($t,{router:e.router})}var Nr=" daum[ /]| deusu/| yadirectfetcher|(?:^|[^g])news(?!sapphire)|(?<! (?:channel/|google/))google(?!(app|/google| pixel))|(?<! cu)bots?(?:\\b|_)|(?<!(?:lib))http|(?<![hg]m)score|(?<!cam)scan|@[a-z][\\w-]+\\.|\\(\\)|\\.com\\b|\\btime/|\\||^<|^[\\w \\.\\-\\(?:\\):%]+(?:/v?\\d+(?:\\.\\d+)?(?:\\.\\d{1,10})*?)?(?:,|$)|^[^ ]{50,}$|^\\d+\\b|^\\w*search\\b|^\\w+/[\\w\\(\\)]*$|^active|^ad muncher|^amaya|^avsdevicesdk/|^biglotron|^bot|^bw/|^clamav[ /]|^client/|^cobweb/|^custom|^ddg[_-]android|^discourse|^dispatch/\\d|^downcast/|^duckduckgo|^email|^facebook|^getright/|^gozilla/|^hobbit|^hotzonu|^hwcdn/|^igetter/|^jeode/|^jetty/|^jigsaw|^microsoft bits|^movabletype|^mozilla/\\d\\.\\d\\s[\\w\\.-]+$|^mozilla/\\d\\.\\d\\s\\(compatible;?(?:\\s\\w+\\/\\d+\\.\\d+)?\\)$|^navermailapp|^netsurf|^offline|^openai/|^owler|^php|^postman|^python|^rank|^read|^reed|^rest|^rss|^snapchat|^space bison|^svn|^swcd |^taringa|^thumbor/|^track|^w3c|^webbandit/|^webcopier|^wget|^whatsapp|^wordpress|^xenu link sleuth|^yahoo|^yandex|^zdm/\\d|^zoom marketplace/|^{{.*}}$|analyzer|archive|ask jeeves/teoma|audit|bit\\.ly/|bluecoat drtr|browsex|burpcollaborator|capture|catch|check\\b|checker|chrome-lighthouse|chromeframe|classifier|cloudflare|convertify|crawl|cypress/|dareboost|datanyze|dejaclick|detect|dmbrowser|download|evc-batch/|exaleadcloudview|feed|firephp|functionize|gomezagent|grab|headless|httrack|hubspot marketing grader|hydra|ibisbrowser|infrawatch|insight|inspect|iplabel|ips-agent|java(?!;)|library|linkcheck|mail\\.ru/|manager|measure|neustar wpm|node|nutch|offbyone|onetrust|optimize|pageburst|pagespeed|parser|perl|phantomjs|pingdom|powermarks|preview|proxy|ptst[ /]\\d|retriever|rexx;|rigor|rss\\b|scrape|server|sogou|sparkler/|speedcurve|spider|splash|statuscake|supercleaner|synapse|synthetic|tools|torrent|transcoder|url|validator|virtuoso|wappalyzer|webglance|webkit2png|whatcms/|xtate/",Er=/bot|crawl|http|lighthouse|scan|search|spider/i,X;function jr(){if(X instanceof RegExp)return X;try{X=new RegExp(Nr,"i")}catch{X=Er}return X}function ze(e){return!!e&&jr().test(e)}function Fr(e,r){return Ye(e,r)}function Tr(e,r){return $e.fromWeb(Ye(e,$e.toWeb(r)))}const kr=/(<body)/,Ar=/(<\/body>)/,Mr=/(<\/html>)/,Ir=/(<head.*?>)/,Or=/(<\/[a-zA-Z][\w:.-]*?>)/g,Dr=new TextDecoder;function Pr(){let e;const r=new TextEncoder,n={stream:new Cr({start(a){e=a}}),write:a=>{e.enqueue(r.encode(a))},end:a=>{a&&e.enqueue(r.encode(a)),e.close(),n.destroyed=!0},destroy:a=>{e.error(a)},destroyed:!1};return n}async function Hr(e,r){var t,n,a;try{const s=e.getReader();let o;for(;!(o=await s.read()).done;)(t=r.onData)==null||t.call(r,o);(n=r.onEnd)==null||n.call(r)}catch(s){(a=r.onError)==null||a.call(r,s)}}function Ye(e,r){const t=Pr();let n=!0,a="",s="",o=!1,i=!1,l="",m="";function h(){const g=a;return a="",g}function w(g){return g instanceof Uint8Array?Dr.decode(g):String(g)}const p=nr();let F=0;e.serverSsr.injectedHtml.forEach(g=>{$(g)});const Q=e.subscribe("onInjectedHtml",g=>{$(g.promise)});function $(g){F++,g.then(L=>{o?t.write(L):a+=L}).catch(p.reject).finally(()=>{F--,!n&&F===0&&(Q(),p.resolve())})}return p.then(()=>{const g=m+h()+s;t.end(g)}).catch(g=>{console.error("Error reading routerStream:",g),t.destroy(g)}),Hr(r,{onData:g=>{const L=w(g.value);let R=l+L;const V=R.match(Ar),ae=R.match(Mr);if(o||R.match(kr)&&(o=!0),!i){const S=R.match(Ir);if(S){i=!0;const d=S.index,f=S[0],N=R.slice(d+f.length);t.write(R.slice(0,d)+f+h()),R=N}}if(!o){t.write(R),l="";return}if(V&&ae&&V.index<ae.index){const S=V.index;s=R.slice(S),t.write(R.slice(0,S)+h()),l="";return}let G,z=0;for(;(G=Or.exec(R))!==null;)z=G.index+G[0].length;if(z>0){const S=R.slice(0,z)+h()+m;t.write(S),l=R.slice(z)}else l=R,m+=h()},onEnd:()=>{n=!1,F===0&&p.resolve()},onError:g=>{console.error("Error reading appStream:",g),t.destroy(g)}}),t.stream}const ee="__TSR_index";function $r(e){let r=e.getLocation();const t=new Set,n=o=>{r=e.getLocation(),t.forEach(i=>i({location:r,action:o}))},a=o=>{e.notifyOnIndexChange??!0?n(o):r=e.getLocation()},s=async({task:o,navigateOpts:i,...l})=>{var m,h;if(i?.ignoreBlocker??!1){o();return}const p=((m=e.getBlockers)==null?void 0:m.call(e))??[],F=l.type==="PUSH"||l.type==="REPLACE";if(typeof document<"u"&&p.length&&F)for(const Q of p){const $=et(l.path,l.state);if(await Q.blockerFn({currentLocation:r,nextLocation:$,action:l.type})){(h=e.onBlocked)==null||h.call(e);return}}o()};return{get location(){return r},get length(){return e.getLength()},subscribers:t,subscribe:o=>(t.add(o),()=>{t.delete(o)}),push:(o,i,l)=>{const m=r.state[ee];i=Re(m+1,i),s({task:()=>{e.pushState(o,i),n({type:"PUSH"})},navigateOpts:l,type:"PUSH",path:o,state:i})},replace:(o,i,l)=>{const m=r.state[ee];i=Re(m,i),s({task:()=>{e.replaceState(o,i),n({type:"REPLACE"})},navigateOpts:l,type:"REPLACE",path:o,state:i})},go:(o,i)=>{s({task:()=>{e.go(o),a({type:"GO",index:o})},navigateOpts:i,type:"GO"})},back:o=>{s({task:()=>{e.back(o?.ignoreBlocker??!1),a({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{s({task:()=>{e.forward(o?.ignoreBlocker??!1),a({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},canGoBack:()=>r.state[ee]!==0,createHref:o=>e.createHref(o),block:o=>{var i;if(!e.setBlockers)return()=>{};const l=((i=e.getBlockers)==null?void 0:i.call(e))??[];return e.setBlockers([...l,o]),()=>{var m,h;const w=((m=e.getBlockers)==null?void 0:m.call(e))??[];(h=e.setBlockers)==null||h.call(e,w.filter(p=>p!==o))}},flush:()=>{var o;return(o=e.flush)==null?void 0:o.call(e)},destroy:()=>{var o;return(o=e.destroy)==null?void 0:o.call(e)},notify:n}}function Re(e,r){return r||(r={}),{...r,key:tt(),[ee]:e}}function Lr(e={initialEntries:["/"]}){const r=e.initialEntries;let t=e.initialIndex?Math.min(Math.max(e.initialIndex,0),r.length-1):r.length-1;const n=r.map((s,o)=>Re(o,void 0));return $r({getLocation:()=>et(r[t],n[t]),getLength:()=>r.length,pushState:(s,o)=>{t<r.length-1&&(r.splice(t+1),n.splice(t+1)),n.push(o),r.push(s),t=Math.max(r.length-1,0)},replaceState:(s,o)=>{n[t]=o,r[t]=s},back:()=>{t=Math.max(t-1,0)},forward:()=>{t=Math.min(t+1,r.length-1)},go:s=>{t=Math.min(Math.max(t+s,0),r.length-1)},createHref:s=>s})}function et(e,r){const t=e.indexOf("#"),n=e.indexOf("?");return{href:e,pathname:e.substring(0,t>0?n>0?Math.min(t,n):t:n>0?n:e.length),hash:t>-1?e.substring(t):"",search:n>-1?e.slice(n,t===-1?void 0:t):"",state:r||{[ee]:0,key:tt()}}}function tt(){return(Math.random()+1).toString(36).substring(7)}function rt(e){if(Array.isArray(e))return e.flatMap(h=>rt(h));if(typeof e!="string")return[];const r=[];let t=0,n,a,s,o,i;const l=()=>{for(;t<e.length&&/\s/.test(e.charAt(t));)t+=1;return t<e.length},m=()=>(a=e.charAt(t),a!=="="&&a!==";"&&a!==",");for(;t<e.length;){for(n=t,i=!1;l();)if(a=e.charAt(t),a===","){for(s=t,t+=1,l(),o=t;t<e.length&&m();)t+=1;t<e.length&&e.charAt(t)==="="?(i=!0,t=o,r.push(e.slice(n,s)),n=t):t=s+1}else t+=1;(!i||t>=e.length)&&r.push(e.slice(n,e.length))}return r}function zr(e){return e instanceof Headers?new Headers(e):Array.isArray(e)?new Headers(e):typeof e=="object"?new Headers(e):new Headers}function te(...e){return e.reduce((r,t)=>{const n=zr(t);for(const[a,s]of n.entries())a==="set-cookie"?rt(s).forEach(i=>r.append("set-cookie",i)):r.set(a,s);return r},new Headers)}const j={stringify:e=>JSON.stringify(e,function(t,n){const a=this[t],s=fe.find(o=>o.stringifyCondition(a));return s?s.stringify(a):n}),parse:e=>JSON.parse(e,function(t,n){const a=this[t];if(P(a)){const s=fe.find(o=>o.parseCondition(a));if(s)return s.parse(a)}return n}),encode:e=>{if(Array.isArray(e))return e.map(t=>j.encode(t));if(P(e))return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,j.encode(n)]));const r=fe.find(t=>t.stringifyCondition(e));return r?r.stringify(e):e},decode:e=>{if(P(e)){const r=fe.find(t=>t.parseCondition(e));if(r)return r.parse(e)}return Array.isArray(e)?e.map(r=>j.decode(r)):P(e)?Object.fromEntries(Object.entries(e).map(([r,t])=>[r,j.decode(t)])):e}},Z=(e,r,t,n)=>({key:e,stringifyCondition:r,stringify:a=>({[`$${e}`]:t(a)}),parseCondition:a=>Object.hasOwn(a,`$${e}`),parse:a=>n(a[`$${e}`])}),fe=[Z("undefined",e=>e===void 0,()=>0,()=>{}),Z("date",e=>e instanceof Date,e=>e.toISOString(),e=>new Date(e)),Z("error",e=>e instanceof Error,e=>({...e,message:e.message,stack:void 0,cause:e.cause}),e=>Object.assign(new Error(e.message),e)),Z("formData",e=>e instanceof FormData,e=>{const r={};return e.forEach((t,n)=>{const a=r[n];a!==void 0?Array.isArray(a)?a.push(t):r[n]=[a,t]:r[n]=t}),r},e=>{const r=new FormData;return Object.entries(e).forEach(([t,n])=>{Array.isArray(n)?n.forEach(a=>r.append(t,a)):r.append(t,n)}),r}),Z("bigint",e=>typeof e=="bigint",e=>e.toString(),e=>BigInt(e))];var Br="Invariant failed";function Te(e,r){if(!e)throw new Error(Br)}const Ur=[];function C(e,r){const t=r||e||{};return typeof t.method>"u"&&(t.method="GET"),{options:t,middleware:n=>C(void 0,Object.assign(t,{middleware:n})),validator:n=>C(void 0,Object.assign(t,{validator:n})),type:n=>C(void 0,Object.assign(t,{type:n})),handler:(...n)=>{const[a,s]=n;Object.assign(t,{...a,extractedFn:a,serverFn:s});const o=[...t.middleware||[],Gr(t)];return Object.assign(async i=>Be(o,"client",{...a,...t,data:i?.data,headers:i?.headers,signal:i?.signal,context:{}}).then(l=>{if(t.response==="full")return l;if(l.error)throw l.error;return l.result}),{...a,__executeServer:async(i,l)=>{const m=i instanceof FormData?Jr(i):i;m.type=typeof t.type=="function"?t.type(m):t.type;const h={...a,...m,signal:l},w=()=>Be(o,"server",h).then(p=>({result:p.result,error:p.error,context:p.sendContext}));if(h.type==="static"){let p;if(A?.getItem&&(p=await A.getItem(h)),p||(p=await w().then(F=>({ctx:F,error:null})).catch(F=>({ctx:void 0,error:F})),A?.setItem&&await A.setItem(h,p)),Te(p),p.error)throw p.error;return p.ctx}return w()}})}}}async function Be(e,r,t){const n=Kr([...Ur,...e]),a=async s=>{const o=n.shift();if(!o)return s;o.options.validator&&(r!=="client"||o.options.validateClient)&&(s.data=await Vr(o.options.validator,s.data));const i=r==="client"?o.options.client:o.options.server;return i?Qr(i,s,async l=>a(l).catch(m=>{if(Ge(m)||Xe(m))return{...l,error:m};throw m})):a(s)};return a({...t,headers:t.headers||{},sendContext:t.sendContext||{},context:t.context||{}})}let A;function qr(e){const r=A;return A=typeof e=="function"?e():e,()=>{A=r}}async function Wr(e){const r=new TextEncoder().encode(e),t=await crypto.subtle.digest("SHA-1",r);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}qr(()=>{const e=async(n,a)=>`/__tsr/staticServerFnCache/${await Wr(`${n.functionId}__${a}`)}.json`,r=n=>JSON.stringify(n??"",(o,i)=>i&&typeof i=="object"&&!Array.isArray(i)?Object.keys(i).sort().reduce((l,m)=>(l[m]=i[m],l),{}):i).replace(/[/\\?%*:|"<>]/g,"-").replace(/\s+/g,"_"),t=typeof document<"u"?new Map:null;return{getItem:async n=>{if(typeof document>"u"){const a=r(n.data),s=await e(n,a),o="/Users/leonardo/PersProgetti/start-basic-alpha/dist",{promises:i}=await import("node:fs"),m=(await import("node:path")).join(o,s),[h,w]=await i.readFile(m,"utf-8").then(p=>[j.parse(p),null]).catch(p=>[null,p]);if(w&&w.code!=="ENOENT")throw w;return h}},setItem:async(n,a)=>{const{promises:s}=await import("node:fs"),o=await import("node:path"),i=r(n.data),l=await e(n,i),h=o.join("/Users/leonardo/PersProgetti/start-basic-alpha/dist",l);await s.mkdir(o.dirname(h),{recursive:!0}),await s.writeFile(h,j.stringify(a))},fetchItem:async n=>{const a=r(n.data),s=await e(n,a);let o=t?.get(s);return o||(o=await fetch(s,{method:"GET"}).then(i=>i.text()).then(i=>j.parse(i)),t?.set(s,o)),o}}});function Jr(e){const r=e.get("__TSR_CONTEXT");if(e.delete("__TSR_CONTEXT"),typeof r!="string")return{context:{},data:e};try{return{context:j.parse(r),data:e}}catch{return{data:e}}}function Kr(e){const r=new Set,t=[],n=a=>{a.forEach(s=>{s.options.middleware&&n(s.options.middleware),r.has(s)||(r.add(s),t.push(s))})};return n(e),t}const Qr=async(e,r,t)=>e({...r,next:async(n={})=>t({...r,...n,context:{...r.context,...n.context},sendContext:{...r.sendContext,...n.sendContext??{}},headers:te(r.headers,n.headers),result:n.result!==void 0?n.result:r.response==="raw"?n:r.result,error:n.error??r.error})});function Vr(e,r){if(e==null)return{};if("~standard"in e){const t=e["~standard"].validate(r);if(t instanceof Promise)throw new Error("Async validation not supported");if(t.issues)throw new Error(JSON.stringify(t.issues,void 0,2));return t.value}if("parse"in e)return e.parse(r);if(typeof e=="function")return e(r);throw new Error("Invalid validator type!")}function Gr(e){return{_types:void 0,options:{validator:e.validator,validateClient:e.validateClient,client:async({next:r,sendContext:t,...n})=>{var a;const s={...n,context:t,type:typeof n.type=="function"?n.type(n):n.type};if(n.type==="static"&&typeof document<"u"){Te(A);const i=await A.fetchItem(s);if(i){if(i.error)throw i.error;return r(i.ctx)}`${s.functionId}${JSON.stringify(s.data)}`}const o=await((a=e.extractedFn)==null?void 0:a.call(e,s));return r(o)},server:async({next:r,...t})=>{var n;const a=await((n=e.serverFn)==null?void 0:n.call(e,t));return r({...t,result:a})}}}}function q(e,r){const t=r||e||{};return{options:t,middleware:n=>q(void 0,Object.assign(t,{middleware:n})),validator:n=>q(void 0,Object.assign(t,{validator:n})),client:n=>q(void 0,Object.assign(t,{client:n})),server:n=>q(void 0,Object.assign(t,{server:n}))}}function Xr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _e,Ue;function Zr(){if(Ue)return _e;Ue=1;const e={},r=e.hasOwnProperty,t=(d,f)=>{for(const N in d)r.call(d,N)&&f(N,d[N])},n=(d,f)=>(f&&t(f,(N,I)=>{d[N]=I}),d),a=(d,f)=>{const N=d.length;let I=-1;for(;++I<N;)f(d[I])},s=d=>"\\u"+("0000"+d).slice(-4),o=(d,f)=>{let N=d.toString(16);return f?N:N.toUpperCase()},i=e.toString,l=Array.isArray,m=d=>typeof Buffer=="function"&&Buffer.isBuffer(d),h=d=>i.call(d)=="[object Object]",w=d=>typeof d=="string"||i.call(d)=="[object String]",p=d=>typeof d=="number"||i.call(d)=="[object Number]",F=d=>typeof d=="bigint",Q=d=>typeof d=="function",$=d=>i.call(d)=="[object Map]",g=d=>i.call(d)=="[object Set]",L={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},R=/[\\\b\f\n\r\t]/,V=/[0-9]/,ae=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,G=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,z=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,S=(d,f)=>{const N=()=>{ve=se,++f.indentLevel,se=f.indent.repeat(f.indentLevel)},I={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},O=f&&f.json;O&&(I.quotes="double",I.wrap=!0),f=n(I,f),f.quotes!="single"&&f.quotes!="double"&&f.quotes!="backtick"&&(f.quotes="single");const oe=f.quotes=="double"?'"':f.quotes=="backtick"?"`":"'",D=f.compact,B=f.lowercaseHex;let se=f.indent.repeat(f.indentLevel),ve="";const Nt=f.__inline1__,ie=f.__inline2__,U=D?"":`
`;let E,ce=!0;const Et=f.numbers=="binary",jt=f.numbers=="octal",Ft=f.numbers=="decimal",Tt=f.numbers=="hexadecimal";if(O&&d&&Q(d.toJSON)&&(d=d.toJSON()),!w(d)){if($(d))return d.size==0?"new Map()":(D||(f.__inline1__=!0,f.__inline2__=!1),"new Map("+S(Array.from(d),f)+")");if(g(d))return d.size==0?"new Set()":"new Set("+S(Array.from(d),f)+")";if(m(d))return d.length==0?"Buffer.from([])":"Buffer.from("+S(Array.from(d),f)+")";if(l(d))return E=[],f.wrap=!0,Nt&&(f.__inline1__=!1,f.__inline2__=!0),ie||N(),a(d,x=>{ce=!1,ie&&(f.__inline2__=!1),E.push((D||ie?"":se)+S(x,f))}),ce?"[]":ie?"["+E.join(", ")+"]":"["+U+E.join(","+U)+U+(D?"":ve)+"]";if(p(d)||F(d)){if(O)return JSON.stringify(Number(d));let x;if(Ft)x=String(d);else if(Tt){let M=d.toString(16);B||(M=M.toUpperCase()),x="0x"+M}else Et?x="0b"+d.toString(2):jt&&(x="0o"+d.toString(8));return F(d)?x+"n":x}else return F(d)?O?JSON.stringify(Number(d)):d+"n":h(d)?(E=[],f.wrap=!0,N(),t(d,(x,M)=>{ce=!1,E.push((D?"":se)+S(x,f)+":"+(D?"":" ")+S(M,f))}),ce?"{}":"{"+U+E.join(","+U)+U+(D?"":ve)+"}"):O?JSON.stringify(d)||"null":String(d)}const kt=f.escapeEverything?G:z;return E=d.replace(kt,(x,M,De,le,At,Mt)=>{if(M){if(f.minimal)return M;const Pe=M.charCodeAt(0),He=M.charCodeAt(1);if(f.es6){const It=(Pe-55296)*1024+He-56320+65536;return"\\u{"+o(It,B)+"}"}return s(o(Pe,B))+s(o(He,B))}if(De)return s(o(De.charCodeAt(0),B));if(x=="\0"&&!O&&!V.test(Mt.charAt(At+1)))return"\\0";if(le)return le==oe||f.escapeEverything?"\\"+le:le;if(R.test(x))return L[x];if(f.minimal&&!ae.test(x))return x;const be=o(x.charCodeAt(0),B);return O||be.length>2?s(be):"\\x"+("00"+be).slice(-2)}),oe=="`"&&(E=E.replace(/\$\{/g,"\\${")),f.isScriptContext&&(E=E.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,O?"\\u003C!--":"\\x3C!--")),f.wrap&&(E=oe+E+oe),E};return S.version="3.0.2",_e=S,_e}var Yr=Zr();const W=Xr(Yr),en=`const __TSR_SSR__={matches:[],streamedValues:{},initMatch:o=>(__TSR_SSR__.matches.push(o),o.extracted?.forEach(l=>{if(l.type==="stream"){let r;l.value=new ReadableStream({start(e){r={enqueue:t=>{try{e.enqueue(t)}catch{}},close:()=>{try{e.close()}catch{}}}}}),l.value.controller=r}else{let r,e;l.value=new Promise((t,a)=>{e=a,r=t}),l.value.reject=e,l.value.resolve=r}}),!0),resolvePromise:({matchId:o,id:l,promiseState:r})=>{const e=__TSR_SSR__.matches.find(t=>t.id===o);if(e){const t=e.extracted?.[l];if(t&&t.type==="promise"&&t.value&&r.status==="success")return t.value.resolve(r.data),!0}return!1},injectChunk:({matchId:o,id:l,chunk:r})=>{const e=__TSR_SSR__.matches.find(t=>t.id===o);if(e){const t=e.extracted?.[l];if(t&&t.type==="stream"&&t.value?.controller)return t.value.controller.enqueue(new TextEncoder().encode(r.toString())),!0}return!1},closeStream:({matchId:o,id:l})=>{const r=__TSR_SSR__.matches.find(e=>e.id===o);if(r){const e=r.extracted?.[l];if(e&&e.type==="stream"&&e.value?.controller)return e.value.controller.close(),!0}return!1},cleanScripts:()=>{document.querySelectorAll(".tsr-once").forEach(o=>{o.remove()})}};window.__TSR_SSR__=__TSR_SSR__;
`;function tn(e,r){e.ssr={manifest:r,serializer:j},e.serverSsr={injectedHtml:[],streamedKeys:new Set,injectHtml:t=>{const n=Promise.resolve().then(t);return e.serverSsr.injectedHtml.push(n),e.emit({type:"onInjectedHtml",promise:n}),n.then(()=>{})},injectScript:(t,n)=>e.serverSsr.injectHtml(async()=>`<script class='tsr-once'>${await t()}; if (typeof __TSR_SSR__ !== 'undefined') __TSR_SSR__.cleanScripts()<\/script>`),streamValue:(t,n)=>{e.serverSsr.streamedKeys.has(t),e.serverSsr.streamedKeys.add(t),e.serverSsr.injectScript(()=>`__TSR_SSR__.streamedValues['${t}'] = { value: ${W(e.ssr.serializer.stringify(n),{isScriptContext:!0,wrap:!0,json:!0})}}`)},onMatchSettled:an},e.serverSsr.injectScript(()=>en,{logScript:!1})}function rn(e){var r,t;const n={manifest:e.ssr.manifest,dehydratedData:(t=(r=e.options).dehydrate)==null?void 0:t.call(r)};e.serverSsr.injectScript(()=>`__TSR_SSR__.dehydrated = ${W(e.ssr.serializer.stringify(n),{isScriptContext:!0,wrap:!0,json:!0})}`)}function nn(e,r){const t=[];return{replaced:Ne(e,(a,s)=>{if(a instanceof ReadableStream){const[o,i]=a.tee(),l={type:"stream",path:s,id:t.length,matchIndex:r.match.index,stream:i};return t.push(l),o}else if(a instanceof Promise){const o=ir(a),i={type:"promise",path:s,id:t.length,matchIndex:r.match.index,promise:o};t.push(i)}return a}),extracted:t}}function an(e){const{router:r,match:t}=e;let n,a;if(t.loaderData!==void 0){const l=nn(t.loaderData,{match:t});t.loaderData=l.replaced,n=l.extracted,a=n.reduce((m,h)=>Ce(m,["temp",...h.path],void 0),{temp:l.replaced}).temp}const s=`__TSR_SSR__.initMatch(${W({id:t.id,__beforeLoadContext:r.ssr.serializer.stringify(t.__beforeLoadContext),loaderData:r.ssr.serializer.stringify(a),error:r.ssr.serializer.stringify(t.error),extracted:n?.map(l=>ar(l,["type","path"])),updatedAt:t.updatedAt,status:t.status},{isScriptContext:!0,wrap:!0,json:!0})})`;r.serverSsr.injectScript(()=>s),n&&n.forEach(l=>l.type==="promise"?o(l):i(l));function o(l){r.serverSsr.injectScript(async()=>(await l.promise,`__TSR_SSR__.resolvePromise(${W({matchId:t.id,id:l.id,promiseState:l.promise[or]},{isScriptContext:!0,wrap:!0,json:!0})})`))}function i(l){r.serverSsr.injectHtml(async()=>{try{const m=l.stream.getReader();let h=null;for(;!(h=await m.read()).done;)if(h.value){const w=`__TSR_SSR__.injectChunk(${W({matchId:t.id,id:l.id,chunk:h.value},{isScriptContext:!0,wrap:!0,json:!0})})`;r.serverSsr.injectScript(()=>w)}r.serverSsr.injectScript(()=>`__TSR_SSR__.closeStream(${W({matchId:t.id,id:l.id},{isScriptContext:!0,wrap:!0,json:!0})})`)}catch(m){console.error("stream read error",m)}return""})}}function Ce(e,r,t){if(r.length===0)return t;const[n,...a]=r;return Array.isArray(e)?e.map((s,o)=>o===Number(n)?Ce(s,a,t):s):P(e)?{...e,[n]:Ce(e[n],a,t)}:e}function Ne(e,r,t=[]){if(sr(e))return e.map((a,s)=>Ne(a,r,[...t,`${s}`]));if(P(e)){const a={};for(const s in e)a[s]=Ne(e[s],r,[...t,s]);return a}const n=r(e,t);return n!==e?n:e}function on({createRouter:e,getRouterManifest:r}){return t=>dr(async n=>{const a=ur(n),s=new URL(a.url),o=s.href.replace(s.origin,""),i=Lr({initialEntries:[o]}),l=e();tn(l,await r?.()),l.update({history:i}),await l.load(),rn(l);const m=sn({event:n,router:l});return await t({request:a,router:l,responseHeaders:m})})}function sn(e){let r=te(fr(e.event),e.event.___ssrRpcResponseHeaders,{"Content-Type":"text/html; charset=UTF-8"},...e.router.state.matches.map(n=>n.headers));const{redirect:t}=e.router.state;return t&&(r=te(r,t.headers,{Location:t.href})),r}function cn(e={}){let r,t=!1;const n=o=>{if(r&&r!==o)throw new Error("Context conflict")};let a;if(e.asyncContext){const o=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?a=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const s=()=>{if(a){const o=a.getStore();if(o!==void 0)return o}return r};return{use:()=>{const o=s();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>s(),set:(o,i)=>{i||n(o),r=o,t=!0},unset:()=>{r=void 0,t=!1},call:(o,i)=>{n(o),r=o;try{return a?a.run(o,i):i()}finally{t||(r=void 0)}},async callAsync(o,i){r=o;const l=()=>{r=o},m=()=>r===o?l:void 0;Je.add(m);try{const h=a?a.run(o,i):i();return t||(r=void 0),await h}finally{Je.delete(m)}}}}function ln(e={}){const r={};return{get(t,n={}){return r[t]||(r[t]=cn({...e,...n})),r[t]}}}const ge=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},qe="__unctx__",dn=ge[qe]||(ge[qe]=ln()),un=(e,r={})=>dn.get(e,r),We="__unctx_async_handlers__",Je=ge[We]||(ge[We]=new Set);function fn(){return at()}const nt=Symbol("$HTTPEvent");function mn(e){return typeof e=="object"&&(e instanceof Se||e?.[nt]instanceof Se||e?.__is_event__===!0)}function pn(e){return function(...r){var t;const n=r[0];if(mn(n))r[0]=n instanceof Se||n.__is_event__?n:n[nt];else{if(!((t=globalThis.app.config.server.experimental)!=null&&t.asyncContext))throw new Error("AsyncLocalStorage was not enabled. Use the `server.experimental.asyncContext: true` option in your app configuration to enable it. Or, pass the instance of HTTPEvent that you have as the first argument to the function.");r.unshift(fn())}return e(...r)}}const hn=pn(mr);function gn(){var e;return un("nitro-app",{asyncContext:!!((e=globalThis.app.config.server.experimental)!=null&&e.asyncContext),AsyncLocalStorage:lr})}function at(){const e=gn().use().event;if(!e)throw new Error("No HTTPEvent found in AsyncLocalStorage. Make sure you are using the function within the server runtime.");return e}const yn=async({request:e,router:r,responseHeaders:t})=>{if(typeof ue.renderToReadableStream=="function"){const n=await ue.renderToReadableStream(c(Le,{router:r}),{signal:e.signal});ze(e.headers.get("User-Agent"))&&await n.allReady;const a=Fr(r,n);return new Response(a,{status:r.state.statusCode,headers:t})}if(typeof ue.renderToPipeableStream=="function"){const n=new Rr;try{const s=ue.renderToPipeableStream(c(Le,{router:r}),{...ze(e.headers.get("User-Agent"))?{onAllReady(){s.pipe(n)}}:{onShellReady(){s.pipe(n)}},onError:(o,i)=>{console.error("Error in renderToPipeableStream:",o,i)}})}catch(s){console.error("Error in renderToPipeableStream:",s)}const a=Tr(r,n);return new Response(a,{status:r.state.statusCode,headers:t})}throw new Error("No renderToReadableStream or renderToPipeableStream found in react-dom/server. Ensure you are using a version of react-dom that supports streaming.")},vn=()=>({routes:{__root__:{filePath:"__root.tsx",children:["/","/calendar","/profile","/sign-in","/sign-up"],preloads:["/_build/assets/client-D3Nnt2QE.js","/_build/assets/client-Be5q_lbq.js"]},"/":{filePath:"index.tsx"},"/calendar":{filePath:"calendar.tsx"},"/profile":{filePath:"profile.tsx"},"/sign-in":{filePath:"sign-in.tsx"},"/sign-up":{filePath:"sign-up.tsx"}}});function bn(e){return globalThis.MANIFEST[e]}function _n(){const e=vn(),r=e.routes.__root__=e.routes.__root__||{};r.assets=r.assets||[];let t="";const n=bn("client"),a=n.inputs[n.handler]?.output.path;return a||Te(a),r.assets.push({tag:"script",attrs:{type:"module",suppressHydrationWarning:!0,async:!0},children:`${t}import("${a}")`}),e}function wn(){const e=_n();return{...e,routes:Object.fromEntries(Object.entries(e.routes).map(([r,t])=>{const{preloads:n,assets:a}=t;return[r,{preloads:n,assets:a}]}))}}async function Sn(e,r,t){var n;const a=r[0];if(P(a)&&a.method){const i=a,l=i.data instanceof FormData?"formData":"payload",m=new Headers({...l==="payload"?{"content-type":"application/json",accept:"application/json"}:{},...i.headers instanceof Headers?Object.fromEntries(i.headers.entries()):i.headers});if(i.method==="GET"){const p=cr({payload:j.stringify({data:i.data,context:i.context})});p&&(e.includes("?")?e+=`&${p}`:e+=`?${p}`)}e.includes("?")?e+="&createServerFn":e+="?createServerFn",i.response==="raw"&&(e+="&raw");const h=await t(e,{method:i.method,headers:m,signal:i.signal,...xn(i)}),w=await Ke(h);if((n=w.headers.get("content-type"))!=null&&n.includes("application/json")){const p=j.decode(await w.json());if(Ge(p)||Xe(p)||p instanceof Error)throw p;return p}return w}const s=await Ke(await t(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})),o=s.headers.get("content-type");return o&&o.includes("application/json")?j.decode(await s.json()):s.text()}function xn(e){return e.method==="POST"?e.data instanceof FormData?(e.data.set("__TSR_CONTEXT",j.stringify(e.context)),{body:e.data}):{body:j.stringify({data:e.data??null,context:e.context})}:{}}async function Ke(e){if(!e.ok){const r=e.headers.get("content-type");throw r&&r.includes("application/json")?j.decode(await e.json()):new Error(await e.text())}return e}function Rn(e){return e.replace(/^\/|\/$/g,"")}const k=(e,r)=>{const t=`/${Rn(r)}/${e}`;return Object.assign((...a)=>Sn(t,a,async(s,o)=>{o.headers=te(hn(),o.headers);const i=await $fetch.native(s,o),l=at(),m=te(i.headers,l.___ssrRpcResponseHeaders);return l.___ssrRpcResponseHeaders=m,i}),{url:t,functionId:e})},ot=u.object({username:u.string().min(3).max(20)});u.object({username:ot.shape.username,email:u.string().email(),password:u.string().min(8),confirmPassword:u.string()});u.object({email:u.string().email(),password:u.string()});const Cn=k("src_services_auth_api_ts--getUserSession_createServerFn_handler","/_server"),Nn=C({method:"GET"}).handler(Cn),ke=q({type:"function"}),H=q({type:"function"}).middleware([ke]),En=k("src_services_auth_api_ts--updateUser_createServerFn_handler","/_server"),Ya=C().validator(ot).middleware([H]).handler(En),st=u.object({name:u.string().min(3).max(50),description:u.string().min(3).max(250).optional(),logoUrl:u.string().url().optional(),homeUrl:u.string().url().optional()}),it=u.object({communityId:u.number()}),jn=st.extend({id:u.number()}),Fn=u.object({ownCommunitiesOnly:u.boolean().optional()}),Tn=k("src_services_community_api_ts--createCommunity_createServerFn_handler","/_server");C().validator(st).middleware([H]).handler(Tn);const kn=k("src_services_community_api_ts--getCommunities_createServerFn_handler","/_server");C().validator(Fn).middleware([ke]).handler(kn);const An=k("src_services_community_api_ts--getCommunity_createServerFn_handler","/_server");C().validator(u.object({id:u.number()})).middleware([ke]).handler(An);const Mn=k("src_services_community_api_ts--joinCommunity_createServerFn_handler","/_server");C().validator(it).middleware([H]).handler(Mn);const In=k("src_services_community_api_ts--leaveCommunity_createServerFn_handler","/_server");C().validator(it).middleware([H]).handler(In);const On=k("src_services_community_api_ts--updateCommunity_createServerFn_handler","/_server");C().validator(jn).middleware([H]).handler(On);const Dn=k("src_services_community_api_ts--getUserRoleInCommunity_createServerFn_handler","/_server");C().validator(u.object({communityId:u.number()})).middleware([H]).handler(Dn);const Ae=u.union([u.literal("in-person"),u.literal("hybrid"),u.literal("online")]),eo=Ae.options.map(e=>e.value),ct=u.object({query:u.string().transform(e=>e||void 0),tags:u.array(u.string()).transform(e=>e?.length?e:void 0),modes:u.array(Ae).transform(e=>e?.length?e:void 0),country:u.string(),hasCfpOpen:u.boolean().transform(e=>e||void 0),communityId:u.number().nullish(),communityDraft:u.boolean().nullish(),startDate:u.string().date().nullish()}).partial(),Pn=u.object({id:u.number().optional(),name:u.string().min(1).max(100),description:u.string().min(1).max(1e3),eventUrl:u.string().url().nullish(),date:u.string().date(),dateEnd:u.string().date().nullish(),cfpUrl:u.string().url().nullish(),mode:Ae,country:u.string().nullish(),city:u.string().nullish(),cfpClosingDate:u.string().date().nullish(),tags:u.array(u.string()).min(1),communityId:u.number().nullish(),draft:u.boolean().nullish()}),Hn=k("src_services_event_api_ts--getEvents_createServerFn_handler","/_server"),$n=C().validator(ct).handler(Hn),Ln=k("src_services_event_api_ts--getEvent_createServerFn_handler","/_server"),zn=C().validator(u.object({id:u.number()})).handler(Ln),Bn=k("src_services_event_api_ts--upsertEvent_createServerFn_handler","/_server");C().validator(Pn).middleware([H]).handler(Bn);const Un=k("src_services_tags_api_ts--getTags_createServerFn_handler","/_server"),qn=C().handler(Un),Qe={all:["events"],list:e=>he({queryKey:[...Qe.all,"list",e],queryFn:()=>$n({data:e})}),detail:e=>he({queryKey:[...Qe.all,"detail",e],queryFn:()=>zn({data:{id:e}}),enabled:!isNaN(e)&&!!e})},lt={all:["tags"],list:()=>he({queryKey:[...lt.all,"list"],queryFn:()=>qn()})},Me={all:["auth"],user:()=>he({queryKey:[...Me.all,"user"],queryFn:()=>Nn(),staleTime:5e3})},Wn=rr({baseURL:void 0}),Ie=()=>{const{data:e}=Ot(Me.user());return{userSession:e,isAuthenticated:!!e}},Jn=()=>{const{userSession:e}=Ie();if(!e)throw new Error("User is not authenticated!");return e},Kn=({children:e})=>{const{isAuthenticated:r}=Ie();return r?c(Ve,{children:e}):null},Qn=({children:e})=>{const{isAuthenticated:r}=Ie();return r?null:c(Ve,{children:e})};function y(...e){return gr(hr(e))}function to(e){const r=["bg-red-400","bg-orange-400","bg-yellow-400","bg-green-400","bg-teal-400","bg-blue-400","bg-indigo-400","bg-purple-400","bg-pink-400","bg-lime-400","bg-emerald-400","bg-cyan-400","bg-sky-400","bg-violet-400","bg-fuchsia-400","bg-rose-400","bg-amber-400","bg-green-300","bg-blue-300","bg-purple-300"];let t=0;if(e.length>0){let n=0;for(let a=0;a<3&&a<e.length;a++)n+=e.charCodeAt(a)+e.charCodeAt(e.length-1-a);t=n+e.length}return r[t%r.length]}function Vn(e,r){const n=new Date(e,r-1,1).getDay();let a=0;return n!==0&&(a=-n),new Date(e,r-1,1+a)}function Gn(e,r){const t=new Date(e,r,0);let a=6-t.getDay();return new Date(e,r-1,t.getDate()+a)}function ro(e,r){const t=Vn(e,r),n=Gn(e,r);return{firstSunday:t,lastSaturday:n}}const Xn=Ze("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",xs:"h-6 rounded-md px-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Oe=_.forwardRef(({className:e,variant:r,size:t,asChild:n=!1,...a},s)=>c(n?pr:"button",{className:y(Xn({variant:r,size:t,className:e})),ref:s,...a}));Oe.displayName="Button";const Zn=je(Oe),dt=_.forwardRef(({className:e,children:r,...t},n)=>b(T.Root,{ref:n,className:y("relative z-10 flex max-w-max flex-1 items-center justify-center",e),...t,children:[r,c(pt,{})]}));dt.displayName=T.Root.displayName;const ut=_.forwardRef(({className:e,...r},t)=>c(T.List,{ref:t,className:y("group flex flex-1 list-none items-center justify-center space-x-1",e),...r}));ut.displayName=T.List.displayName;const we=T.Item,Ee=Ze("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),ft=_.forwardRef(({className:e,children:r,...t},n)=>b(T.Trigger,{ref:n,className:y(Ee(),"group",e),...t,children:[r," ",c(yr,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));ft.displayName=T.Trigger.displayName;const mt=_.forwardRef(({className:e,...r},t)=>c(T.Content,{ref:t,className:y("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",e),...r}));mt.displayName=T.Content.displayName;const Y=je(T.Link),pt=_.forwardRef(({className:e,...r},t)=>c("div",{className:y("absolute left-0 top-full flex justify-center"),children:c(T.Viewport,{className:y("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",e),ref:t,...r})}));pt.displayName=T.Viewport.displayName;const Yn=_.forwardRef(({className:e,...r},t)=>c(T.Indicator,{ref:t,className:y("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",e),...r,children:c("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}));Yn.displayName=T.Indicator.displayName;const ea=()=>c(dt,{children:b(ut,{children:[c(we,{children:c(Y,{className:Ee(),to:"/events/submit",children:"Submit Event"})}),b(we,{children:[c(ft,{children:"Communities"}),c(mt,{children:b("ul",{className:"flex flex-col gap-2 p-4 w-[350px]",children:[c(Y,{to:"/communities",children:c(me,{title:"Discover",children:"Find communities to join."})}),c(Y,{to:"/communities/management",children:c(me,{title:"Participate",children:"Get more involved in your communities."})}),c(Y,{to:"/communities/management/create",children:c(me,{title:"Create",children:"Start your own community."})})]})})]}),c(we,{children:c(Y,{className:Ee(),to:"/calendar",children:"Calendar"})})]})}),me=Zt.forwardRef(({className:e,title:r,children:t,...n},a)=>b("li",{className:y("block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",e),...n,children:[c("div",{className:"text-sm font-medium leading-none",children:r}),c("p",{className:"line-clamp-2 text-sm leading-snug text-muted-foreground",children:t})]}));me.displayName="ListItem";const ht=_.forwardRef(({className:e,...r},t)=>c(J.Root,{ref:t,className:y("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));ht.displayName=J.Root.displayName;const gt=_.forwardRef(({className:e,...r},t)=>c(J.Image,{ref:t,className:y("aspect-square h-full w-full",e),...r}));gt.displayName=J.Image.displayName;const yt=_.forwardRef(({className:e,...r},t)=>c(J.Fallback,{ref:t,className:y("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));yt.displayName=J.Fallback.displayName;const ta=v.Root,ra=v.Trigger,na=_.forwardRef(({className:e,inset:r,children:t,...n},a)=>b(v.SubTrigger,{ref:a,className:y("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",e),...n,children:[t,c(vr,{className:"ml-auto"})]}));na.displayName=v.SubTrigger.displayName;const aa=_.forwardRef(({className:e,...r},t)=>c(v.SubContent,{ref:t,className:y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));aa.displayName=v.SubContent.displayName;const vt=_.forwardRef(({className:e,sideOffset:r=4,...t},n)=>c(v.Portal,{children:c(v.Content,{ref:n,sideOffset:r,className:y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));vt.displayName=v.Content.displayName;const ye=_.forwardRef(({className:e,inset:r,...t},n)=>c(v.Item,{ref:n,className:y("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",e),...t}));ye.displayName=v.Item.displayName;const oa=_.forwardRef(({className:e,children:r,checked:t,...n},a)=>b(v.CheckboxItem,{ref:a,className:y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...n,children:[c("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c(v.ItemIndicator,{children:c(br,{className:"h-4 w-4"})})}),r]}));oa.displayName=v.CheckboxItem.displayName;const sa=_.forwardRef(({className:e,children:r,...t},n)=>b(v.RadioItem,{ref:n,className:y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[c("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c(v.ItemIndicator,{children:c(_r,{className:"h-2 w-2 fill-current"})})}),r]}));sa.displayName=v.RadioItem.displayName;const bt=_.forwardRef(({className:e,inset:r,...t},n)=>c(v.Label,{ref:n,className:y("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...t}));bt.displayName=v.Label.displayName;const pe=_.forwardRef(({className:e,...r},t)=>c(v.Separator,{ref:t,className:y("-mx-1 my-1 h-px bg-muted",e),...r}));pe.displayName=v.Separator.displayName;const _t=_.forwardRef(({className:e,...r},t)=>c(xe.Root,{className:y("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...r,ref:t,children:c(xe.Thumb,{className:y("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));_t.displayName=xe.Root.displayName;const ia=je(ye);function ca(){const e=Lt(),r=Dt(),t=Jn(),[n,a]=Yt(!1),s=async()=>{await Wn.signOut(),await r.invalidateQueries(),e.invalidate()};return b(ta,{open:n,onOpenChange:a,children:[c(ra,{asChild:!0,children:c(Oe,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:b(ht,{className:"h-8 w-8",children:[c(gt,{alt:"User avatar"}),c(yt,{children:c(wr,{className:"h-4 w-4"})})]})})}),b(vt,{className:"w-56",align:"end",forceMount:!0,children:[c(bt,{className:"font-normal",children:b("div",{className:"flex flex-col space-y-1",children:[c("p",{className:"text-sm font-medium leading-none",children:t.user.name??"User"}),c("p",{className:"text-xs leading-none text-muted-foreground",children:t.user.email??""})]})}),c(pe,{}),c(ia,{className:"cursor-pointer",to:"/profile",onClick:()=>a(!1),children:"Profile"}),c(pe,{}),c(ye,{children:b("div",{className:"flex items-center justify-between w-full",children:["Dark Mode",c(_t,{disabled:!0})]})}),c(pe,{}),b(ye,{className:"text-red-600 cursor-pointer",onSelect:s,children:[c(Sr,{className:"mr-2 h-4 w-4"}),c("span",{children:"Log out"})]})]})]})}const la=()=>b("header",{className:"px-4 py-2 flex gap-2 items-center justify-between max-w-screen-2xl mx-auto",children:[b("div",{className:"flex gap-2 items-center",children:[c("div",{className:"text-xl leading-loose mr-2",children:c(zt,{to:"/",children:"ConfHub"})}),c(ea,{})]}),b("div",{className:"flex gap-4 items-center",children:[c("a",{href:"https://github.com/Balastrong/ConfHub",target:"_blank",rel:"noreferrer",children:c(er,{})}),c("a",{href:"https://discord.gg/bqwyEa6We6",target:"_blank",rel:"noreferrer",children:c(tr,{})}),c(Kn,{children:c(ca,{})}),c(Qn,{children:c(Zn,{size:"sm",to:"/sign-in",children:"Sign In"})})]})]}),da=({...e})=>c(Vt,{theme:"light",className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e}),ua="/_build/assets/globals-ChSM57PH.css",K=Bt()({beforeLoad:async({context:e})=>{console.log("beforeLoad called in root route");const r=await e.queryClient.fetchQuery(Me.user());return console.log("User session fetched in beforeLoad:",r?.user.name),{userSession:null}},head:()=>({meta:[{charSet:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{title:"ConfHub!"}],links:[{rel:"stylesheet",href:ua},{rel:"icon",type:"image/png",href:"/favicon.png"}]}),component:fa});function fa(){return console.log("RootComponent rendered"),c(pa,{children:c(Ut,{})})}const ma=()=>null;function pa({children:e}){return console.log("RootDocument rendered"),b("html",{children:[c("head",{children:c(qt,{})}),b("body",{children:[c(la,{}),c("hr",{}),e,c(Wt,{}),c(da,{}),c(_.Suspense,{children:c(ma,{})})]})]})}const ha=()=>import("./sign-up-CBHkmx6Q.js"),wt=re("/sign-up")({component:ne(ha,"component",()=>wt.ssr),beforeLoad:async({context:e})=>{if(e.userSession)throw Fe({to:"/"})}}),ga=()=>import("./sign-in-BZF_yvbj.js"),St=re("/sign-in")({component:ne(ga,"component",()=>St.ssr),beforeLoad:async({context:e})=>{if(e.userSession)throw Fe({to:"/"})}}),ya=()=>import("./profile-DO6dlf9Z.js"),xt=re("/profile")({component:ne(ya,"component",()=>xt.ssr),beforeLoad:async({context:e})=>{if(!e.userSession)throw Fe({to:"/"})}}),va=e=>xr(e,"yyyy-MM-dd"),ba=()=>import("./calendar-BazKR9zi.js"),Rt=re("/calendar")({validateSearch:u.object({date:u.string().date().catch(()=>va(new Date(new Date().setDate(1))))}),component:ne(ba,"component",()=>Rt.ssr)}),_a=()=>import("./index-B2BRHzb_.js"),Ct=re("/")({beforeLoad:({context:e})=>{console.log("Home route beforeLoad called"),e.queryClient.ensureQueryData(lt.list())},component:ne(_a,"component",()=>Ct.ssr),validateSearch:ct}),wa=wt.update({id:"/sign-up",path:"/sign-up",getParentRoute:()=>K}),Sa=St.update({id:"/sign-in",path:"/sign-in",getParentRoute:()=>K}),xa=xt.update({id:"/profile",path:"/profile",getParentRoute:()=>K}),Ra=Rt.update({id:"/calendar",path:"/calendar",getParentRoute:()=>K}),Ca=Ct.update({id:"/",path:"/",getParentRoute:()=>K}),Na={IndexRoute:Ca,CalendarRoute:Ra,ProfileRoute:xa,SignInRoute:Sa,SignUpRoute:wa},Ea=K._addFileChildren(Na)._addFileTypes();function ja(e){try{return new Gt(JSON.parse(e.message))}catch{}}function Fa(){const e=new Pt({defaultOptions:{queries:{staleTime:3e5,retry:0,refetchOnWindowFocus:!1}},mutationCache:new Ht({onError:t=>{if(t instanceof Error){const n=ja(t);if(n){de.error(Xt(n,{maxIssuesInMessage:2}).message);return}de.error(t.message)}else typeof t=="string"?de.error(t):typeof t=="object"&&t!==null&&"message"in t&&de.error(t.message)}})});return Qt(Jt({routeTree:Ea,defaultPreload:"intent",defaultErrorComponent:Kt,defaultNotFoundComponent:()=>"Not found!",context:{queryClient:e}}),e)}const no=on({createRouter:Fa,getRouterManifest:wn})(yn);export{ht as A,Oe as B,eo as E,Rt as R,_t as S,Wn as a,Ya as b,y as c,Me as d,gt as e,yt as f,to as g,ro as h,Qe as i,va as j,Xn as k,Ct as l,no as m,lt as t,Jn as u};
