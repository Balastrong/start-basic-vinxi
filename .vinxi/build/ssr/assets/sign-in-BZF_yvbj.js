import{jsxs as m,jsx as o}from"react/jsx-runtime";import{useNavigate as a,Link as s}from"@tanstack/react-router";import{L as p}from"./layout-DeG64cWT.js";import{useQueryClient as l,useMutation as u}from"@tanstack/react-query";import{toast as c}from"sonner";import{u as d}from"./form-DacGNDwl.js";import{a as f}from"./ssr-BorI3jCH.js";import"@tanstack/react-form";import"lucide-react";import"./input-VBkQFdq7.js";import"react";import"@radix-ui/react-label";import"class-variance-authority";import"@radix-ui/react-select";import"@tanstack/react-router-with-query";import"zod";import"zod-validation-error";import"@radix-ui/react-icons";import"better-auth/react";import"@tanstack/router-core";import"node:async_hooks";import"h3";import"@radix-ui/react-slot";import"clsx";import"tailwind-merge";import"@radix-ui/react-navigation-menu";import"@radix-ui/react-avatar";import"@radix-ui/react-dropdown-menu";import"@radix-ui/react-switch";import"date-fns";import"node:stream";import"react-dom/server";import"node:stream/web";const g=async t=>{const{error:i,data:n}=await f.signIn.email({email:t.email,password:t.password});if(i)throw new Error(i.message);return n},w=()=>{const t=a(),i=l(),n=u({mutationFn:g,onSuccess:e=>{c.success(`Hey ${e.user.name}, welcome back!`),i.resetQueries(),t({to:"/"})}}),r=d({defaultValues:{email:"",password:""},onSubmit:async({value:e})=>{await n.mutateAsync(e)}});return m("form",{className:"flex flex-col gap-2 w-full",onSubmit:e=>{e.preventDefault(),r.handleSubmit()},children:[o(r.AppField,{name:"email",children:e=>o(e.TextField,{label:"Email",required:!0,type:"email"})}),o(r.AppField,{name:"password",children:e=>o(e.TextField,{label:"Password",required:!0,type:"password"})}),o(r.AppForm,{children:o(r.SubmitButton,{label:"Sign In"})})]})},X=function(){return console.log("Sign In RouteComponent rendered"),m(p,{className:"items-center gap-2 max-w-md",children:[o(w,{}),o("small",{children:m(s,{to:"/sign-up",className:"group",children:["Do you want to create an account instead?"," ",o("span",{className:"underline group-hover:no-underline",children:"Sign Up"})]})})]})};export{X as component};
