import{jsxs as n,jsx as e}from"react/jsx-runtime";import{useRouter as s,Link as p}from"@tanstack/react-router";import{L as a}from"./layout-DeG64cWT.js";import{useQueryClient as l,useMutation as u}from"@tanstack/react-query";import{toast as c}from"sonner";import{u as d}from"./form-DacGNDwl.js";import{a as f}from"./ssr-BorI3jCH.js";import"@tanstack/react-form";import"lucide-react";import"./input-VBkQFdq7.js";import"react";import"@radix-ui/react-label";import"class-variance-authority";import"@radix-ui/react-select";import"@tanstack/react-router-with-query";import"zod";import"zod-validation-error";import"@radix-ui/react-icons";import"better-auth/react";import"@tanstack/router-core";import"node:async_hooks";import"h3";import"@radix-ui/react-slot";import"clsx";import"tailwind-merge";import"@radix-ui/react-navigation-menu";import"@radix-ui/react-avatar";import"@radix-ui/react-dropdown-menu";import"@radix-ui/react-switch";import"date-fns";import"node:stream";import"react-dom/server";import"node:stream/web";const h=async o=>{const{error:t}=await f.signUp.email({email:o.email,password:o.password,name:o.username});if(t)throw new Error(t.message);return o},w=()=>{const o=l(),t=s(),m=u({mutationFn:h,onSuccess:()=>{c.success("You have successfully signed up."),o.resetQueries(),t.invalidate()}}),i=d({defaultValues:{username:"",email:"",password:"",confirmPassword:""},onSubmit:async({value:r})=>{await m.mutateAsync(r)}});return n("form",{className:"flex flex-col gap-2 w-full",onSubmit:r=>{r.preventDefault(),i.handleSubmit()},children:[e(i.AppField,{name:"username",children:r=>e(r.TextField,{label:"Username",required:!0})}),e(i.AppField,{name:"email",children:r=>e(r.TextField,{label:"Email",required:!0,type:"email"})}),e(i.AppField,{name:"password",children:r=>e(r.TextField,{label:"Password",required:!0,type:"password"})}),e(i.AppField,{name:"confirmPassword",children:r=>e(r.TextField,{label:"Confirm Password",required:!0,type:"password"})}),e(i.AppForm,{children:e(i.SubmitButton,{label:"Sign Up"})})]})},X=function(){return console.log("Sign Up RouteComponent rendered"),n(a,{className:"items-center gap-2 max-w-md",children:[e(w,{}),e("small",{children:n(p,{to:"/sign-in",className:"group",children:["Do you already have an account?"," ",e("span",{className:"underline group-hover:no-underline",children:"Sign In"})]})})]})};export{X as component};
