import{createFormHook as y,createFormHookContexts as w}from"@tanstack/react-form";import{jsxs as d,jsx as t}from"react/jsx-runtime";import{c as n,B as N}from"./ssr-BorI3jCH.js";import{ChevronDown as m,Check as S,ChevronUp as v,Loader2 as C}from"lucide-react";import{L as p,I as F}from"./input-VBkQFdq7.js";import*as i from"react";import*as a from"@radix-ui/react-select";const B=a.Root,I=a.Value,u=i.forwardRef(({className:o,children:r,...e},l)=>d(a.Trigger,{ref:l,className:n("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",o),...e,children:[r,t(a.Icon,{asChild:!0,children:t(m,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=a.Trigger.displayName;const f=i.forwardRef(({className:o,...r},e)=>t(a.ScrollUpButton,{ref:e,className:n("flex cursor-default items-center justify-center py-1",o),...r,children:t(v,{className:"h-4 w-4"})}));f.displayName=a.ScrollUpButton.displayName;const h=i.forwardRef(({className:o,...r},e)=>t(a.ScrollDownButton,{ref:e,className:n("flex cursor-default items-center justify-center py-1",o),...r,children:t(m,{className:"h-4 w-4"})}));h.displayName=a.ScrollDownButton.displayName;const g=i.forwardRef(({className:o,children:r,position:e="popper",...l},s)=>t(a.Portal,{children:d(a.Content,{ref:s,className:n("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:e,...l,children:[t(f,{}),t(a.Viewport,{className:n("p-1",e==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),t(h,{})]})}));g.displayName=a.Content.displayName;const R=i.forwardRef(({className:o,...r},e)=>t(a.Label,{ref:e,className:n("py-1.5 pl-8 pr-2 text-sm font-semibold",o),...r}));R.displayName=a.Label.displayName;const b=i.forwardRef(({className:o,children:r,...e},l)=>d(a.Item,{ref:l,className:n("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),...e,children:[t("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t(a.ItemIndicator,{children:t(S,{className:"h-4 w-4"})})}),t(a.ItemText,{children:r})]}));b.displayName=a.Item.displayName;const j=i.forwardRef(({className:o,...r},e)=>t(a.Separator,{ref:e,className:n("-mx-1 my-1 h-px bg-muted",o),...r}));j.displayName=a.Separator.displayName;const L=({label:o,options:r,required:e,type:l})=>{const s=x();return d(p,{htmlFor:s.name,children:[o,e?" *":"",d(B,{value:s.state.value?.toString()??"",onValueChange:c=>{s.handleChange(l==="number"?Number(c):c)},children:[t(u,{children:t(I,{placeholder:`Select a ${o}`})}),t(g,{children:r.map(c=>t(b,{value:`${c.value}`,children:c.label},c.value))})]})]})},k=({label:o})=>{const r=V();return t(r.Subscribe,{selector:e=>[e.isSubmitting,e.canSubmit],children:([e,l])=>d(N,{disabled:e||!l,type:"submit",children:[o,e&&t(C,{className:"ml-2 h-4 w-4 animate-spin"})]})})},T=({label:o,type:r="text",required:e})=>{const l=x();return d(p,{htmlFor:l.name,children:[o,e?" *":"",t(F,{name:l.name,id:l.name,value:l.state.value??"",onChange:s=>l.handleChange(s.target.value),type:r})]})},{fieldContext:D,useFieldContext:x,formContext:U,useFormContext:V}=w(),{useAppForm:q,withForm:E}=y({fieldComponents:{TextField:T,SelectField:L},formComponents:{SubmitButton:k},fieldContext:D,formContext:U});export{q as u};
