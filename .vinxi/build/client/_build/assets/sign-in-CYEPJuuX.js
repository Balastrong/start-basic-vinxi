import{d as r,u as i,j as e,b as l,c as u,L as m}from"./client-Be5q_lbq.js";import{L as c}from"./layout-BdBLz4Bd.js";import{u as p}from"./loader-circle-E8mevhe3.js";import{u as d}from"./form-B6UXoWQ_.js";import"./input-DPE8SgqL.js";const x=async n=>{const{error:a,data:o}=await u.signIn.email({email:n.email,password:n.password});if(a)throw new Error(a.message);return o},g=()=>{const n=r(),a=i(),o=p({mutationFn:x,onSuccess:s=>{l.success(`Hey ${s.user.name}, welcome back!`),a.resetQueries(),n({to:"/"})}}),t=d({defaultValues:{email:"",password:""},onSubmit:async({value:s})=>{await o.mutateAsync(s)}});return e.jsxs("form",{className:"flex flex-col gap-2 w-full",onSubmit:s=>{s.preventDefault(),t.handleSubmit()},children:[e.jsx(t.AppField,{name:"email",children:s=>e.jsx(s.TextField,{label:"Email",required:!0,type:"email"})}),e.jsx(t.AppField,{name:"password",children:s=>e.jsx(s.TextField,{label:"Password",required:!0,type:"password"})}),e.jsx(t.AppForm,{children:e.jsx(t.SubmitButton,{label:"Sign In"})})]})},S=function(){return console.log("Sign In RouteComponent rendered"),e.jsxs(c,{className:"items-center gap-2 max-w-md",children:[e.jsx(g,{}),e.jsx("small",{children:e.jsxs(m,{to:"/sign-up",className:"group",children:["Do you want to create an account instead?"," ",e.jsx("span",{className:"underline group-hover:no-underline",children:"Sign Up"})]})})]})};export{S as component};
